class Renderer2{draw_point(t,i,r){throw new Error("Unimplemented draw_point!")}draw_line(t,i,r,e,h){let s=Math.abs(r-t),a=t<r?1:-1,d=-Math.abs(e-i),l=i<e?1:-1,n=s+d;for(;this.draw_point(t,i),t!=r||i!=e;){let h=2*n;if(h>=d){if(t==r)break;n+=d,t+=a}if(h<=s){if(i==e)break;n+=s,i+=l}}}}class TextRenderer extends Renderer2{constructor(t,i,r,e){super(),this.type="braille",this.canvas=document.getElementById(t),this.canvas.style.lineHeight="1.17em",this.width=i,this.height=r,this.grid_raw=[];for(let t=0;t<this.height;t++){let t=[];for(let i=0;i<this.width;i++)t.push(0);this.grid_raw.push(t)}}flush(){let t="";for(let i=0;i<Math.ceil(this.height/4);i++){for(let r=0;r<Math.ceil(this.width/2);r++)if("braille"==this.type){let e=0;e|=0!=this.grid_raw[4*i][2*r]?1:0,e|=(0!=this.grid_raw[4*i+1][2*r]?1:0)<<1,e|=(0!=this.grid_raw[4*i+2][2*r]?1:0)<<2,e|=(0!=this.grid_raw[4*i][2*r+1]?1:0)<<3,e|=(0!=this.grid_raw[4*i+1][2*r+1]?1:0)<<4,e|=(0!=this.grid_raw[4*i+2][2*r+1]?1:0)<<5,e|=(0!=this.grid_raw[4*i+3][2*r]?1:0)<<6,e|=(0!=this.grid_raw[4*i+3][2*r+1]?1:0)<<7,e+=10240,t+=String.fromCharCode(e)}t+="\n"}this.canvas.innerText=t}draw_point(t,i,r){let e=r||1;this.grid_raw[i][t]=e}}